DatumStructure:
  - StoreName: AllNodes
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./AllNodes"
 
  - StoreName: SiteData
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./SiteData"

  - StoreName: Environments
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./Environments"

  - StoreName: Roles
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./Roles"
      ### THUMBPRINT ###

ResolutionPrecedence:
  - 'AllNodes\$($Node.Environment)\$($Node.Name)'
  - 'AllNodes\$($Node.Environment)\All'
  - 'Environments\$($Node.Environment)'
  - 'SiteData\$($Node.Location)'
  - 'Roles\$($Node.Role)' 
  - 'Roles\All'

# That's the default
# default_lookup_options: MostSpecific
# default_lookup_options:
#   strategy: MostSpecific
#   MaxDepth: -1
default_lookup_options: # equivalent to adding ^.* in lookup_option
  strategy: first|unique|hash|deep
  options:
    knockout_prefix: --
    sort_merged_arrays: false
    merge_hash_arrays: false


# Can override for all
lookup_options:
  a: first
  d: unique
  c: hash
  b: deep
  configurations: Unique

  '^.*\\': 
    strategy: deep
    options:
      knockout_prefix: --
      sort_merged_arrays: false
      merge_hash_arrays: false

# lookup_options:
#   lookup_options: #when a Configuration defines a merge behaviour, it can be overriden here
#     merge: hash
#   Configurations:
#     merge: Unique
#   Shared1:
#     merge:
#       Strategy: deep
#       knockoutPrefix: --
#   SoftwareBase\Packages\Sources:
#     merge: 
#       strategy: ArrayOfUniqueHashByPropertyName
#       PropertyName: Name
#   #how to support regex when path separator is \